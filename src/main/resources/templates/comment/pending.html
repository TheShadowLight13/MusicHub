<html xmlns:th="http://www.thymeleaf.org">
<h4 class="text-center" th:if="${#lists.isEmpty(pendingComments.getContent())}">No pending comments</h4>
<div class="row justify-content-center mt-4"
     th:each="comment : ${pendingComments}" th:object="${comment}">
    <div class="list-group col-md-6">
        <a href="" class="list-group-item list-group-item-action flex-column active"
           style="background-color: #282828">
            <div class="d-flex w-100 justify-content-between">
                <p class="mb-1"><strong th:text="*{authorUsername}">Username</strong></p>
                <small th:text="*{status}">Status</small>
            </div>
            <div class="d-flex w-100 justify-content-between">
                <small th:text="*{#dates.format(publishedOn, 'dd/MM/yyyy')}">Publish date</small>
            </div>
            <p class="mb-1" style="word-break: break-all" th:text="*{content}">Content</p>
        </a>
        <div class="row justify-content-center mt-2">
            <form th:action="@{/comments/approve/{id}(id=${comment.id})}" th:method="post">
                <input type="hidden" th:name="${_csrf.parameterName}"
                       th:value="${_csrf.token}">
                <button class="btn btn-primary mr-2">Approve</button>
            </form>
            <form th:action="@{/comments/reject/{id}(id=${comment.id})}" th:method="post">
                <input type="hidden" th:name="${_csrf.parameterName}"
                       th:value="${_csrf.token}">
                <button class="btn btn-danger">Reject</button>
            </form>
        </div>
    </div>
</div>
<div class="row justify-content-center mt-3">
    <ul class="pagination" th:if="${!#lists.isEmpty(pendingComments.getContent())
                and pendingComments.getTotalPages() > 1}"
        th:with="hasPrevious=${pendingComments.hasPrevious()}, hasNext=${pendingComments.hasNext()},
        previousPageable=${pendingComments.previousPageable()}, nextPageable=${pendingComments.nextPageable()}">
        <li class="page-item" th:each="page : ${#numbers.sequence(1, pendingComments.getTotalPages())}"
            th:with="index=${page} - 1"
            th:classappend="${pendingComments.getNumber() == index} ? 'active'">
            <a class="page-link" th:href="@{/comments/pending(page=${index})}"
               th:text="${page}"></a>
        </li>
    </ul>
</div>